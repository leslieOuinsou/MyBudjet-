# üîß Configuration PayPal - Instructions D√©taill√©es

## üìù Probl√®me actuel
L'erreur "invalid client_id or redirect_uri" indique que l'URL de redirection n'est pas configur√©e dans votre application PayPal Developer.

## ‚úÖ Solution 1 : Configurer l'URL dans votre application existante

1. **Allez sur** : https://developer.paypal.com/dashboard/applications/sandbox

2. **Connectez-vous** avec votre compte PayPal Developer

3. **Trouvez votre application** avec le Client ID :
   ```
   AdsnnuKnQzBrGtr2zX5NMXZMJFQS5RwJIHAPVlAZPjZllu3QuunYpLv4gZBdK-iKnHf2Yo4CikjVJygG
   ```

4. **Cliquez** sur le nom de l'application

5. **Cherchez** la section "Return URL" ou "Redirect URIs"

6. **Ajoutez** :
   ```
   http://localhost:3001/api/paypal/callback
   ```

7. **Sauvegardez**

---

## üÜï Solution 2 : Cr√©er une nouvelle application REST API

Si vous ne trouvez pas o√π configurer l'URL, cr√©ez une nouvelle application :

### √âtapes :

1. **Allez sur** : https://developer.paypal.com/dashboard/applications/sandbox

2. **Cliquez sur** "Create App"

3. **Remplissez** :
   - **App Name** : MyBudget Plus
   - **App Type** : Merchant
   - **Sandbox Business Account** : Choisissez votre compte sandbox

4. **Cochez les permissions** :
   - ‚úÖ Accept payments
   - ‚úÖ Subscriptions
   - ‚úÖ Transaction Search

5. **Dans "Return URL"**, mettez :
   ```
   http://localhost:3001/api/paypal/callback
   ```

6. **Cliquez** sur "Create App"

7. **Copiez** :
   - **Client ID** (commence par "A...")
   - **Secret** (cliquez sur "Show" pour le voir)

8. **Mettez-les** dans votre fichier `.env` :
   ```env
   PAYPAL_CLIENT_ID=Votre_Nouveau_Client_ID
   PAYPAL_CLIENT_SECRET=Votre_Nouveau_Secret
   ```

---

## üß™ Tester la connexion

Apr√®s avoir configur√© l'URL :

1. **Red√©marrez** votre backend
2. **Allez sur** http://localhost:5173/transactions
3. **Cliquez** sur "Se connecter avec PayPal"
4. **√áa devrait fonctionner** ! ‚úÖ

---

## üîç V√©rification

Pour v√©rifier que tout est correct, ex√©cutez :

```bash
node check-paypal-config.js
```

Vous devriez voir :
- ‚úÖ PAYPAL_CLIENT_ID configur√©
- ‚úÖ PAYPAL_CLIENT_SECRET configur√©
- ‚úÖ URL de redirection : http://localhost:3001/api/paypal/callback

---

## ‚ùì Si √ßa ne fonctionne toujours pas

Le probl√®me peut √™tre :

1. **L'URL n'est pas sauvegard√©e** dans PayPal Developer Dashboard
2. **Le Client ID est incorrect**
3. **Vous utilisez une application de type "Platform" au lieu de "Merchant"**
4. **Les permissions ne sont pas activ√©es**

Dans ce cas, **cr√©ez une nouvelle application** (Solution 2) et assurez-vous de :
- Choisir le type "Merchant"
- Activer les permissions n√©cessaires
- Bien sauvegarder l'URL de redirection

---

## üìö Documentation PayPal

- Dashboard : https://developer.paypal.com/dashboard/
- Documentation OAuth : https://developer.paypal.com/api/rest/authentication/
- Guide Connect with PayPal : https://developer.paypal.com/docs/log-in-with-paypal/

